"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express = require('express');
const cors_1 = require("cors");
const taxpayer_controller_1 = require("./controllers/taxpayer.controller");
const inspector_controller_1 = require("./controllers/inspector.controller");
const violation_controller_1 = require("./controllers/violation.controller");
const app = express();
app.use((0, cors_1.default)());
app.use(express.json());
const taxpayerController = new taxpayer_controller_1.TaxpayerController();
const inspectorController = new inspector_controller_1.InspectorController();
const violationController = new violation_controller_1.ViolationController();
app.get('/api/taxpayers', (req, res) => taxpayerController.getAllTaxpayers(req, res));
app.get('/api/taxpayers/:id', (req, res) => taxpayerController.getTaxpayerById(req, res));
app.post('/api/taxpayers', (req, res) => taxpayerController.createTaxpayer(req, res));
app.put('/api/taxpayers/:id', (req, res) => taxpayerController.updateTaxpayer(req, res));
app.delete('/api/taxpayers/:id', (req, res) => taxpayerController.deleteTaxpayer(req, res));
app.get('/api/taxpayers/:id/violations', (req, res) => taxpayerController.getTaxpayerViolations(req, res));
app.get('/api/taxpayers/:id/fines', (req, res) => taxpayerController.getTaxpayerFines(req, res));
app.get('/api/inspectors', (req, res) => inspectorController.getAllInspectors(req, res));
app.get('/api/inspectors/:id', (req, res) => inspectorController.getInspectorById(req, res));
app.post('/api/inspectors', (req, res) => inspectorController.createInspector(req, res));
app.put('/api/inspectors/:id', (req, res) => inspectorController.updateInspector(req, res));
app.delete('/api/inspectors/:id', (req, res) => inspectorController.deleteInspector(req, res));
app.get('/api/inspectors/:id/violations', (req, res) => inspectorController.getInspectorViolations(req, res));
app.get('/api/inspectors/:id/department', (req, res) => inspectorController.getInspectorDepartment(req, res));
app.get('/api/violations', (req, res) => violationController.getAllViolations(req, res));
app.get('/api/violations/:id', (req, res) => violationController.getViolationById(req, res));
app.post('/api/violations', (req, res) => violationController.createViolation(req, res));
app.put('/api/violations/:id', (req, res) => violationController.updateViolation(req, res));
app.get('/api/violations/overdue', (req, res) => violationController.getOverdueViolations(req, res));
app.get('/api/violations/status/:status', (req, res) => violationController.getViolationsByStatus(req, res));
app.post('/api/fines', (req, res) => violationController.createFine(req, res));
app.put('/api/fines/:id', (req, res) => violationController.updateFine(req, res));
app.get('/api/violations/:violationId/fines', (req, res) => violationController.getViolationFines(req, res));
const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
    console.log(`Server is running on port ${PORT}`);
});
//# sourceMappingURL=app.js.map